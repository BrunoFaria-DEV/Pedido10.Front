<h1 class="app-page-title">
    {{ title }}
    <a routerLink="/produtos" class="btn btn-sm app-btn-secondary float-end px-3"><i
            class="fas fa-angle-double-left"></i>Voltar</a>
</h1>
<div class="app-card shadow-sm p-4 border-left-decoration">
    <div class="app-card-body">
      <!-- Formulário com Reactive Forms -->
      <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label class="form-label">Nome do Produto</label>
          <input type="text" class="form-control" formControlName="Nome_Produto" 
            [ngClass]="{'is-invalid': produtoForm.get('Nome_Produto')?.invalid && produtoForm.get('Nome_Produto')?.touched}">
          <div *ngIf="produtoForm.get('Nome_Produto')?.invalid && produtoForm.get('Nome_Produto')?.touched" class="invalid-feedback">
            O nome do produto é obrigatório.
          </div>
        </div>
  
        <div class="mb-3">
          <label class="form-label">Descrição</label>
          <input type="text" class="form-control" formControlName="Descricao" 
            [ngClass]="{'is-invalid': produtoForm.get('Descricao')?.invalid && produtoForm.get('Descricao')?.touched}">
        </div>
  
        <div class="mb-3">
          <label class="form-label">Custo de Produção</label>
          <input type="number" class="form-control" formControlName="Custo_Producao" 
            [ngClass]="{'is-invalid': produtoForm.get('Custo_Producao')?.invalid && produtoForm.get('Custo_Producao')?.touched}">
        </div>
  
        <div class="mb-3">
          <label class="form-label">Margem de Lucro (%)</label>
          <input type="number" class="form-control" formControlName="Margem_Lucro" 
            [ngClass]="{'is-invalid': produtoForm.get('Margem_Lucro')?.invalid && produtoForm.get('Margem_Lucro')?.touched}">
        </div>
  
        <div class="mb-3">
          <label class="form-label">Preço</label>
          <input type="number" class="form-control" formControlName="Preco" 
            [ngClass]="{'is-invalid': produtoForm.get('Preco')?.invalid && produtoForm.get('Preco')?.touched}">
          <div *ngIf="produtoForm.get('Preco')?.invalid && produtoForm.get('Preco')?.touched" class="invalid-feedback">
            O preço é obrigatório e não pode ser negativo.
          </div>
        </div>
  
        <div class="mb-3">
          <label class="form-label">Quantidade em Estoque</label>
          <input type="number" class="form-control" formControlName="QTDE_Estoque" 
            [ngClass]="{'is-invalid': produtoForm.get('QTDE_Estoque')?.invalid && produtoForm.get('QTDE_Estoque')?.touched}">
          <div *ngIf="produtoForm.get('QTDE_Estoque')?.invalid && produtoForm.get('QTDE_Estoque')?.touched" class="invalid-feedback">
            A quantidade em estoque é obrigatória e não pode ser negativa.
          </div>
        </div>
  
        <div class="pt-4 text-end">
          <button type="submit" class="btn app-btn-primary px-4" [disabled]="produtoForm.invalid">
            <i class="fas fa-check me-1"></i>Salvar
          </button>
        </div>
      </form>
    </div>
</div>